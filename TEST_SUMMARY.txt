COMPREHENSIVE TEST SUITE - LIBRARY MANAGEMENT SYSTEM

FILE: test_library.py
LINES: 445
SIZE: 19KB
FRAMEWORK: Python unittest

TEST EXECUTION RESULTS:
✓ Total Tests: 47
✓ Passed: 47
✓ Failed: 0
✓ Execution Time: 0.003s
✓ Status: OK

================================================================================
TEST BREAKDOWN BY CLASS
================================================================================

CLASS: TestBook (12 tests)
Tests for the Book class creation, borrowing, returning, and validation

1. test_book_creation_valid
   - Purpose: Verify book creation with valid parameters
   - Tests: book_id, title, author, genre, and is_available attributes
   - Expected: Book object created successfully with correct values

2. test_book_creation_invalid_id
   - Purpose: Validate that negative book_id is rejected
   - Tests: Error handling for invalid book_id
   - Expected: ValueError raised with descriptive message

3. test_book_creation_invalid_id_zero
   - Purpose: Validate that zero book_id is rejected
   - Tests: Error handling for zero book_id
   - Expected: ValueError raised

4. test_book_creation_invalid_title
   - Purpose: Validate that empty title is rejected
   - Tests: Error handling for empty title string
   - Expected: ValueError raised

5. test_book_creation_invalid_author
   - Purpose: Validate that empty author is rejected
   - Tests: Error handling for empty author string
   - Expected: ValueError raised

6. test_book_creation_invalid_genre
   - Purpose: Validate that empty genre is rejected
   - Tests: Error handling for empty genre string
   - Expected: ValueError raised

7. test_book_borrow_available
   - Purpose: Test borrowing of available book
   - Tests: book.borrow() method when book is available
   - Expected: Returns True, is_available becomes False

8. test_book_borrow_unavailable
   - Purpose: Test borrowing of unavailable book
   - Tests: book.borrow() method when book already borrowed
   - Expected: Returns False, is_available remains False

9. test_book_return
   - Purpose: Test returning borrowed book
   - Tests: book.return_book() method
   - Expected: is_available becomes True after return

10. test_book_is_available_to_borrow
    - Purpose: Test availability check method
    - Tests: book.is_available_to_borrow() method
    - Expected: Returns correct availability status

11. test_book_str_available
    - Purpose: Test string representation of available book
    - Tests: __str__() method for available book
    - Expected: String contains title, author, and "Available"

12. test_book_str_not_available
    - Purpose: Test string representation of borrowed book
    - Tests: __str__() method for borrowed book
    - Expected: String contains "Not Available" status


CLASS: TestMember (15 tests)
Tests for the Member class creation, borrowing, returning, and validation

1. test_member_creation_valid
   - Purpose: Verify member creation with valid parameters
   - Tests: member_id, name, age, contact_info, and borrowed_books initialization
   - Expected: Member object created successfully with empty borrowed_books list

2. test_member_creation_invalid_id
   - Purpose: Validate that negative member_id is rejected
   - Tests: Error handling for invalid member_id
   - Expected: ValueError raised

3. test_member_creation_invalid_id_zero
   - Purpose: Validate that zero member_id is rejected
   - Tests: Error handling for zero member_id
   - Expected: ValueError raised

4. test_member_creation_invalid_name
   - Purpose: Validate that empty name is rejected
   - Tests: Error handling for empty name string
   - Expected: ValueError raised

5. test_member_creation_invalid_age
   - Purpose: Validate that negative age is rejected
   - Tests: Error handling for negative age
   - Expected: ValueError raised

6. test_member_creation_invalid_contact
   - Purpose: Validate that empty contact info is rejected
   - Tests: Error handling for empty contact_info string
   - Expected: ValueError raised

7. test_member_borrow_book
   - Purpose: Test borrowing an available book
   - Tests: member.borrow_book() method with available book
   - Expected: Book added to borrowed_books, book.is_available becomes False

8. test_member_borrow_unavailable_book
   - Purpose: Test borrowing an unavailable book
   - Tests: member.borrow_book() method with unavailable book
   - Expected: Book not added to borrowed_books, member stays empty

9. test_member_borrow_exceeds_limit
   - Purpose: Test borrowing limit enforcement (MAX_BORROW_LIMIT = 2)
   - Tests: member.borrow_book() after reaching borrow limit
   - Expected: Third book not added, borrowed_books stays at 2

10. test_member_return_book
    - Purpose: Test returning a borrowed book
    - Tests: member.return_book() method
    - Expected: Book removed from borrowed_books, book.is_available becomes True

11. test_member_return_unborrows_book
    - Purpose: Test returning a book not borrowed by member
    - Tests: member.return_book() method with book not in borrowed_books
    - Expected: No change, borrowed_books remains empty

12. test_member_str
    - Purpose: Test string representation of member
    - Tests: __str__() method
    - Expected: String contains name, ID, and borrowed books info


CLASS: TestLibrary (19 tests)
Tests for the Library class book and member management operations

1. test_library_add_book
   - Purpose: Test adding single book to library
   - Tests: library.add_book() method
   - Expected: Book added to library.books list

2. test_library_add_books
   - Purpose: Test adding multiple books at once
   - Tests: library.add_books() method with variable arguments
   - Expected: All books added to library.books list

3. test_library_remove_book
   - Purpose: Test removing book from library
   - Tests: library.remove_book() method
   - Expected: Book removed from library.books list

4. test_library_add_member
   - Purpose: Test adding single member to library
   - Tests: library.add_member() method
   - Expected: Member added to library.members list

5. test_library_add_members
   - Purpose: Test adding multiple members at once
   - Tests: library.add_members() method with variable arguments
   - Expected: All members added to library.members list

6. test_library_remove_member
   - Purpose: Test removing member from library
   - Tests: library.remove_member() method
   - Expected: Member removed from library.members list

7. test_library_issue_book
   - Purpose: Test issuing available book to member
   - Tests: library.issue_book() method
   - Expected: Book added to member's borrowed_books, book.is_available becomes False

8. test_library_issue_unavailable_book
   - Purpose: Test issuing unavailable book to member
   - Tests: library.issue_book() method with borrowed book
   - Expected: Book not issued, member's borrowed_books remains empty

9. test_library_return_book
   - Purpose: Test accepting book return from member
   - Tests: library.return_book() method
   - Expected: Book removed from member's borrowed_books, book.is_available becomes True

10. test_library_available_books
    - Purpose: Test retrieving all available books
    - Tests: library.available_books() method
    - Expected: Returns only books with is_available=True

11. test_library_available_books_by_genre
    - Purpose: Test filtering available books by genre
    - Tests: library.available_books(genre=) method
    - Expected: Returns available books matching specific genre

12. test_library_issued_books
    - Purpose: Test retrieving all issued (borrowed) books
    - Tests: library.issued_books() method
    - Expected: Returns books with is_available=False

13. test_library_search_books_by_title
    - Purpose: Test searching books by title keyword
    - Tests: library.search_books() method with title keyword
    - Expected: Returns matching books by title

14. test_library_search_books_by_author
    - Purpose: Test searching books by author keyword
    - Tests: library.search_books() method with author keyword
    - Expected: Returns matching books by author

15. test_library_search_case_insensitive
    - Purpose: Test that search is case-insensitive
    - Tests: library.search_books() with different cases
    - Expected: Finds matching books regardless of case

16. test_library_search_no_results
    - Purpose: Test search with non-existent keyword
    - Tests: library.search_books() with non-matching keyword
    - Expected: Returns empty list

17. test_library_members_with_borrowed_books
    - Purpose: Test identifying members with borrowed books
    - Tests: library.members_with_borrowed_books() method
    - Expected: Returns only members with non-empty borrowed_books

18. test_library_books_count_by_genre
    - Purpose: Test counting books grouped by genre
    - Tests: library.books_count_by_genre() method
    - Expected: Returns dictionary with genre counts

19. test_library_issued_books_count_by_genre
    - Purpose: Test counting issued books grouped by genre
    - Tests: library.books_count_by_genre(check_for_issuance=True)
    - Expected: Returns dictionary with issued book counts by genre

20. test_library_most_popular_genre
    - Purpose: Test identifying most popular genre among issued books
    - Tests: library.most_popular_genre_from_issued_books() method
    - Expected: Returns list of most frequently issued genres


CLASS: TestErrorHandling (3 tests)
Tests for error handling and edge cases

1. test_library_add_invalid_book
   - Purpose: Test that library handles invalid book objects gracefully
   - Tests: library.add_book() with invalid object
   - Expected: Error caught and logged, system continues gracefully

2. test_library_search_empty_keyword
   - Purpose: Test that library search handles empty keyword gracefully
   - Tests: library.search_books() with empty string
   - Expected: Returns empty list instead of crashing

3. test_book_multiple_borrow_return_cycles
   - Purpose: Test that books can be borrowed/returned multiple times
   - Tests: Multiple borrow and return cycles on same book and member
   - Expected: Book transitions correctly through multiple cycles

================================================================================
COMMENT STRUCTURE IN TESTS
================================================================================

Each test method includes:

1. TEST NAME (Method Name)
   - Clearly describes what is being tested
   - Format: test_<class>_<functionality>

2. DOCSTRING (First line in method)
   - Describes the test purpose in plain English
   - Format: """Test that <functionality> ..."""

3. SETUP (if needed)
   - Uses setUp() method for common initialization
   - Creates test fixtures (books, members, library)
   - Reduces code duplication

4. ASSERTIONS
   - Uses self.assertEqual(), self.assertTrue(), self.assertIn(), etc.
   - Clearly states expected vs actual behavior
   - Multiple assertions per test when verifying related behaviors

================================================================================
KEY TESTING PATTERNS USED
================================================================================

1. POSITIVE TESTS
   - Verify functionality works as expected with valid inputs
   - Example: test_book_creation_valid

2. NEGATIVE TESTS
   - Verify error handling with invalid inputs
   - Example: test_book_creation_invalid_id

3. BOUNDARY TESTS
   - Test limits and constraints
   - Example: test_member_borrow_exceeds_limit

4. INTEGRATION TESTS
   - Test interaction between multiple classes
   - Example: test_library_issue_book

5. EDGE CASE TESTS
   - Test unusual scenarios
   - Example: test_library_search_empty_keyword

================================================================================
RUNNING THE TESTS
================================================================================

Option 1: Run all tests
$ python -m unittest test_library

Option 2: Run with verbose output
$ python -m unittest test_library -v

Option 3: Run specific test class
$ python -m unittest test_library.TestBook

Option 4: Run specific test method
$ python -m unittest test_library.TestBook.test_book_creation_valid

Option 5: Run from test file directly
$ python test_library.py

================================================================================
TEST COVERAGE SUMMARY
================================================================================

Book Class:
✓ Initialization (5 tests: 1 valid, 4 invalid)
✓ Borrowing (2 tests: available, unavailable)
✓ Returning (1 test)
✓ Availability checking (1 test)
✓ String representation (2 tests)

Member Class:
✓ Initialization (6 tests: 1 valid, 5 invalid)
✓ Borrowing books (3 tests: available, unavailable, limit exceeded)
✓ Returning books (2 tests: valid return, invalid return)
✓ String representation (1 test)

Library Class:
✓ Adding books/members (4 tests)
✓ Removing books/members (2 tests)
✓ Issuing books (2 tests: available, unavailable)
✓ Returning books (1 test)
✓ Querying books (5 tests: available, by genre, issued, search)
✓ Statistics (2 tests: count by genre, popular genre)
✓ Member queries (1 test)

Error Handling:
✓ Invalid object handling (1 test)
✓ Empty input handling (1 test)
✓ Multiple operation cycles (1 test)

TOTAL COVERAGE: 47 comprehensive tests covering all major functionality